<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>One Piece Car Game</title>
<style>
body { margin:0; overflow:hidden; background:url('https://i.ibb.co/0B0Y2YF/one-piece-bg.jpg') center/cover no-repeat; background-size:cover; }
#gameCanvas { display:block; margin:0 auto; border:3px solid gold; border-radius:15px; background-color:rgba(255,255,255,0.1); }
#score { position:absolute; top:10px; left:50%; transform:translateX(-50%); color:gold; font-size:24px; font-weight:bold; }
</style>
</head>
<body>
<div id="score">Score: 0</div>
<canvas id="gameCanvas" width="400" height="600"></canvas>
<script>
const canvas=document.getElementById('gameCanvas'),ctx=canvas.getContext('2d');
let car={x:175,y:480,width:50,height:100,speed:10,img:new Image()};
car.img.src='https://i.ibb.co/4YvG6bZ/luffy-car.png';
let obstacles=[],score=0,gameOver=false;
let left=false,right=false;

document.addEventListener('keydown',e=>{if(e.key==='ArrowLeft')left=true;if(e.key==='ArrowRight')right=true;});
document.addEventListener('keyup',e=>{if(e.key==='ArrowLeft')left=false;if(e.key==='ArrowRight')right=false;});

function spawnObstacle(){let w=Math.random()*60+40; let x=Math.random()*(canvas.width-w); obstacles.push({x:x,y:-100,width:w,height:100,speed:5});}

function update(){
    if(gameOver)return;
    if(left&&car.x>0)car.x-=car.speed;
    if(right&&car.x+car.width<canvas.width)car.x+=car.speed;
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.drawImage(car.img,car.x,car.y,car.width,car.height);
    for(let i=0;i<obstacles.length;i++){
        let o=obstacles[i]; o.y+=o.speed; ctx.fillStyle='red'; ctx.fillRect(o.x,o.y,o.width,o.height);
        if(car.x<o.x+o.width && car.x+car.width>o.x && car.y<o.y+o.height && car.y+car.height>o.y){
            gameOver=true; document.getElementById('score').innerText="Game Over! Score: "+score; return;
        }
        if(o.y>canvas.height){obstacles.splice(i,1);score++; document.getElementById('score').innerText="Score: "+score; i--; }
    }
    requestAnimationFrame(update);
}
setInterval(spawnObstacle,1500); update();
</script>
</body>
</html>

