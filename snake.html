<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>One Piece Snake Game</title>
<style>
body{
  margin:0;
  background:url('one-piece-bg.jpg') center/cover no-repeat;
  background-size:cover;
  text-align:center;
}
#gameCanvas{
  display:block;
  margin:20px auto;
  background:rgba(0,0,0,0.3);
  border:3px solid gold;
  border-radius:15px;
}
#score{
  color:gold;
  font-size:24px;
  font-weight:bold;
}
button{
  padding:15px 25px;
  font-size:24px;
  margin:5px;
  border:2px solid gold;
  border-radius:12px;
  cursor:pointer;
}
</style>
</head>
<body>

<div id="score">Score: 0</div>
<canvas id="gameCanvas" width="400" height="400"></canvas>

<!-- Mobile controls -->
<div>
  <button id="upBtn">⬆️</button><br>
  <button id="leftBtn">⬅️</button>
  <button id="downBtn">⬇️</button>
  <button id="rightBtn">➡️</button>
</div>

<button onclick="location.reload()">Restart Game</button>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const box = 20;

// Snake array
let snake = [{x:9*box, y:9*box}];
let direction = 'RIGHT';

// Food
let food = {x: Math.floor(Math.random()*20)*box, y: Math.floor(Math.random()*20)*box};

let score = 0;

// Keyboard controls
document.addEventListener('keydown', e => {
  if(e.key==='ArrowLeft' && direction!=='RIGHT') direction='LEFT';
  if(e.key==='ArrowUp' && direction!=='DOWN') direction='UP';
  if(e.key==='ArrowRight' && direction!=='LEFT') direction='RIGHT';
  if(e.key==='ArrowDown' && direction!=='UP') direction='DOWN';
});

// Mobile touch controls
document.getElementById('upBtn').addEventListener('touchstart', ()=>{direction='UP';});
document.getElementById('downBtn').addEventListener('touchstart', ()=>{direction='DOWN';});
document.getElementById('leftBtn').addEventListener('touchstart', ()=>{direction='LEFT';});
document.getElementById('rightBtn').addEventListener('touchstart', ()=>{direction='RIGHT';});

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Draw snake
  ctx.fillStyle = 'lime';
  snake.forEach(part => ctx.fillRect(part.x, part.y, box, box));

  // Draw food
  ctx.fillStyle = 'red';
  ctx.fillRect(food.x, food.y, box, box);

  // Move snake
  let head = {x: snake[0].x, y: snake[0].y};
  if(direction==='LEFT') head.x -= box;
  if(direction==='RIGHT') head.x += box;
  if(direction==='UP') head.y -= box;
  if(direction==='DOWN') head.y += box;

  // Check collisions
  if(head.x<0 || head.x>=canvas.width || head.y<0 || head.y>=canvas.height || snake.some(s=>s.x===head.x && s.y===head.y)){
    document.getElementById('score').innerHTML = "Game Over! Score: "+score+"<br><button onclick='location.reload()'>Restart</button>";
    clearInterval(game);
    return;
  }

  snake.unshift(head);

  // Eat food
  if(head.x===food.x && head.y===food.y){
    score++;
    document.getElementById('score').innerText = 'Score: '+score;
    food = {x: Math.floor(Math.random()*20)*box, y: Math.floor(Math.random()*20)*box};
  } else {
    snake.pop();
  }
}

// Game loop
let game = setInterval(draw, 120);
</script>

</body>
</html>







